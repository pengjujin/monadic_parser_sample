Monadic Parser Example
======================

中置演算子を定義できる小さな言語の構文解析器を書く。
Happy と Alex をつかった Monadic Parser の書き方については、小さな実例があるといいなと思っていたので。

## Example 1

まずは、Monadic ではない Lexer & Parser の例を、おなじみの四則演算式で。

## Example 2

Monadic Parser をつかって、内部状態を持つ構文解析器をつくります。
Example 1 のように加減乗除の中置演算子を predefine するのではなく、あとから定義できるようにします。
定義されるまで、どういう文字列が演算子として扱われるべきなのか、とか、優先度はわからないため、
構文解析結果によって Lexer や Parser の動作を変える必要があります。

## Example 3 (予定)

ネストしたコメントを扱う。また、コメントの途中で EOF に達した場合はその旨も報告する。

コメントのレベルを記憶するために、Parser Monad のユーザ状態を用いる。
また、alexEOF がユーザ定義になっている理由も、これで納得かな。

## Example 4 (予定)

レイアウト規則にしたがって、（仮想）ブレースやセミコロンを挿入する lexer をつくります。
ここでも、ユーザ状態を用います。
